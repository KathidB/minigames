const guessTheNumberGame = {
  gtnInput: null,
  btnCheck: null,
  btnReset: null,
  gtnStatus: null,
  gtnResult: null,
  gtnMoves: null,
  randomNumber: null,
  counter: 0,

  generateRandomNumber() {
    this.randomNumber = Number((Math.random() * 100).toFixed(0));
  },

  checkTheNumber() {
      this.gtnInput = document.querySelector(".gtn-input");
      this.gtnStatus = document.querySelector(".gtn-status");
      this.gtnMoves = document.querySelector(".gtn-moves");
      this.gtnResult = document.querySelector(".gtn-result");
      this.btnReset = document.querySelector(".btn-reset");
      this.generateRandomNumber();
    if (this.gtnInput.value < 0 || this.gtnInput > 100) {
      this.gtnStatus.textContent = "Podaj liczbę z przedziału 0 do 100";
      this.gtnStatus.style.color = "tomato";
      this.gtnInput.value = "";
    } else if (this.gtnInput.value.length === 0) {
      this.gtnStatus.textContent = "Musisz podać liczbę.";
      this.gtnStatus.style.color = "tomato";
    } else {
      this.counter++;
      this.gtnMoves.textContent = `${this.counter} ruch`;

      if (this.gtnInput.value > this.randomNumber) {
        this.gtnStatus.textContent = `${this.gtnInput.value} - podana liczna jest za duża.`;
        this.gtnStatus.style.color = "white";
        this.gtnInput.value = ``;
      } else if (this.gtnInput < this.randomNumber) {
        this.gtnStatus.textContent = `${this.gtnInput.value} - podana liczbna jest za mała.`;
        this.gtnStatus.style.color = "white";
        this.gtnInput.value = "";
      } else {
        this.gtnStatus.textContent = "";
        this.gtnResult.textContent = "Zwycięstwo!";
        this.gtnResult.style.color = "lime";
        this.gtnMoves.textContent = `Wykonano ${this.counter} ruchów`;
        this.btnCheck.classList.toggle("hide");
        this.btnReset.classList.toggle("active");
      }
    }
  },  
};

document.addEventListener("DOMContentLoaded", () => {
  this.btnCheck = document.querySelector(".btn-check");
  btnCheck.addEventListener("click", (e) =>
    guessTheNumberGame.checkTheNumber()
  );
});
